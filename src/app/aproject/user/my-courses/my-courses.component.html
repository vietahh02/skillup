<mat-card class="mb-25 enrolled-created-box tagus-card">
    <div>
        <div class="title">
            <h5>My Courses</h5>
        </div>
        <div >
            <div class="tagus-search-box">
                <input type="text" class="input-search border-radius" placeholder="Search here" [(ngModel)]="searchTerm" >
                <button  mat-flat-button class="tagus" (click)="search()"><i class="ri-search-line"></i></button>
            </div>
        </div>
    </div>
    <mat-card-content>
        <div class="mat-elevation-z8 tagus-mat-table">
            <table mat-table [dataSource]="dataSource">

                <!-- Course Column -->
                <ng-container matColumnDef="course">
                    <th mat-header-cell *matHeaderCellDef class="col-course">Course</th>
                    <td mat-cell *matCellDef="let element" class="col-course">
                        <div class="d-flex align-items-center course-info">
                            <img [src]="element.image || 'assets/images/course-default.png'" class="border-radius" alt="course">
                            <a (click)="detailCourse(element)" [matTooltip]="maxLengthText(element.name) ? element.name : ''">{{formatText(element.name)}}</a>
                        </div>
                    </td>
                </ng-container>

                <!-- Lecturer Column -->
                <ng-container matColumnDef="instructor">
                    <th mat-header-cell *matHeaderCellDef>Lecturer</th>
                    <td mat-cell *matCellDef="let element">
                        <span [matTooltip]="maxLengthText(element.createdByName) ? element.createdByName : ''">{{formatText(element.createdByName)}}</span>
                    </td>
                </ng-container>

                <!-- Result Column -->
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>Result</th>
                    <td mat-cell *matCellDef="let element">
                        <!-- Show course completion percentage -->
                        <span class="badge" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                                   color: white;
                                                   padding: 4px 12px;
                                                   border-radius: 6px;
                                                   font-size: 12px;
                                                   font-weight: 600;">
                            {{element.progressPct || 0}}%
                        </span>
                    </td>
                </ng-container>

                <!-- Start Time Column -->
                <ng-container matColumnDef="startTime">
                    <th mat-header-cell *matHeaderCellDef>Start Time</th>
                    <td mat-cell *matCellDef="let element">
                        <span class="d-block gray-color">{{getDate(element.startDay)}}</span>
                    </td>
                </ng-container>

                <!-- End Time Column -->
                <ng-container matColumnDef="endTime">
                    <th mat-header-cell *matHeaderCellDef>End Time</th>
                    <td mat-cell *matCellDef="let element">
                        <span class="d-block gray-color">{{getDate(element.endDate)}}</span>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 20, 50]" showFirstLastButtons [pageSize]="pageSize"
                [pageIndex]="currentPage - 1" (page)="onPaginatorChange($event)" [disabled]="false"
                [length]="totalItems"></mat-paginator>
        </div>
    </mat-card-content>
</mat-card>


